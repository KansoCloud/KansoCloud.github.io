---
layout: post
title: "Using OpenTelemetry Observability System (OTEL) for Monitoring Containerized Applications"
date: 2023-12-16 11:00:00 +0530
categories: Using OpenTelemetry Observability System (OTEL) for Monitoring Containerized Applications
picture: "../images/Observability System (OTEL)/otel-diagram.svg"
writer: "Kapil Bokadia"
---

## **Introduction**

Microservices, Containerization and Kubernetes have become buzz words in the software infrastructure world over the past few years. While running Kubernetes clusters has become relatively straightforward, operating them effectively has been an issue for most organizations. One of the most common challenges with Kubernetes is the ability to holistically monitor the underlying infrastructure to avoid issues such as unwanted costs, downtime, lack of observability, etc. Monitoring a containerized application effectively and economically has become a new challenge for developers and infrastructure engineers alike.

## **Problem Statement**

There are two basic requirements to observe or monitor a software application end-to-end:

<ul>
    <li>git 
        Application components should generate the necessary data to be used for monitoring (metrics, logs, tracing).
    </li>
    <li>
        A backend platform that can collect all this generated data at scale so it analyzed for further decision making and actions.
    </li>
</ul>

<br>

Collecting application generated data is not a new thing, however, the collection mechanism is usually not the same across different applications. This inconsistency is the main issue faced by developers while trying to quickly set up a monitoring system to assess the end-to-end health of their applications. Another issue is, many off the shelf monitoring or observability platforms store the collected application data in a vendor/tool specific format. This presents a huge barrier if there is a need to share this data with another tool or platform for downstream processing or analysis.

<br>

## **Open Telemetry**

OpenTelemetry Observability System (OTEL) is an open source platform designed to create and manage telemetry data such as traces, logs, and metrics. It is a Cloud Native Computing Foundation (CNCF) project, which was recently moved to the “Incubating Maturity” level. The big advantage of OTEL is the fact that it is a vendor and tool-agnostic solution that can work across a wide variety of backend systems, including commercial and open source platforms such as Jaeger, Prometheus, Loki etc.

<br>

OTEL supports the two core requirements (discussed earlier) out of the box by allowing the user to:

<ul>
    <li>
        Owns the generated data rather than be stuck with a proprietary data format or tool.
    </li>
    <li>
        Utilize a single set of APIs and conventions to collect and interact with the collected data.
    </li>
</ul>

<br>

## **Open Telemetry Deep Dive**

<!-- image will be presented here -->
<div style="display: flex; align-items: center; justify-content: center;">
    <img src="../images/Observability System (OTEL)/otel-diagram.svg" alt="OTEL">
</div>

[OpenTelemetry Official Documentation](https://opentelemetry.io/docs/)
<br>

The OTEL framework collects data, processes it, and then sends it to the exporter. Everything needs to be defined in a single pipeline to make it all work.
<br>

<ul>
    <li>
        <strong>Application Instrumentation:</strong> The application has to be instrumented and configured to send the actual information to be sent -  logs, metrics, traces etc. OTEL even supports auto-instrumentation for the application stack. In order to enable it, the  OTEL Operator needs to be configured and the application type defined along with a few additional variables. OTEL will seamlessly instrument the application and start generating and sending the relevant information.
    </li>
    <li>
        <strong>Data Gathering:</strong> OTEL collects the data generated by the application layer for processing and exporting.
    </li>
    <li>
        <strong>Data Processing:</strong> The collected data is broken down, sampled, and filtered to reduce unnecessary information or errors. It can even be configured to add more context information to the collected data.
    </li>
    <li>
        <strong>Data Conversion and Export:</strong> Processed data is converted and exported i.e. data is ready to be shared or stored in an easy-to-understand format.
    </li>
    <li>
        <strong>Backend Transfer:</strong>  The filtered data will go to the pre-defined backend systems for storage or analysis.
    </li>
</ul>

## **Conclusion**

OTEL is a widely used observability stack because of its easy to use application instrumentation, data streamlining process and widely supported receiver, processor, and exporter resources. It provides an effective end-to-end monitoring platform for applications and is especially effective for monitoring both the infrastructure and application layers of containerized workloads.

## **References**

<!-- 1 -->

[Opentelemetry](https://opentelemetry.io/docs/what-is-opentelemetry/)

<!-- 2 -->

[Instrumentation](https://opentelemetry.io/docs/instrumentation/)

<!-- 3 -->

[Kubernetes](https://opentelemetry.io/docs/kubernetes/)

<!-- 4 -->

[Docs](https://opentelemetry.io/docs/)
